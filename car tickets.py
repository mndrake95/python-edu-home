"""
Модуль проверки превышения скорости.

Этот модуль запрашивает у пользователя имя, ограничение скорости и фактическую скорость.
На основе введённых данных определяется степень превышения и выводится соответствующее
сообщение о штрафе.

Функции:
- get_name_input(prompt): Ввод и валидация имени.
- get_int_input(prompt, min_value, max_value): Ввод целого числа с проверкой диапазона.
- calculate_penalty(speed, limit, name): Вывод превышения и возврат штрафа.
- main(): Основной сценарий работы программы.
"""
def get_name_input(prompt):
    """
    Запрашивает у пользователя ввод имени с заданным сообщением и проверяет его на корректность.

    Имя считается допустимым, если оно:
    - состоит только из букв, пробелов, символов `-` или `` ` `` (обратная кавычка),
    - имеет длину от 2 до 25 символов включительно.

    Параметры:
        prompt (str): Сообщение, отображаемое пользователю при запросе ввода.

    Возвращает:
        str: Корректная строка имени, введённая пользователем.
    """
    while True:
        text = input(prompt).strip()
        if all(c.isalpha() or c.isspace() or c == "`" or c == "-" for c in text) and len(text) >= 2 and len(text) <= 25:
            return text
        print("Ошибка: Введите корректное имя и фамилию.")
def get_int_input(prompt, min_value = 0, max_value = 250):
    """
    Запрашивает у пользователя целое число в заданных пределах.

    Функция выводит указанный `prompt` и ожидает ввода от пользователя.
    Повторяет запрос, пока не будет введено корректное целое число,
    находящееся в диапазоне от `min_value` до `max_value` включительно.

    Args:
        prompt (str): Сообщение для пользователя при вводе значения.
        min_value (int, optional): Минимально допустимое значение. По умолчанию 0.
        max_value (int, optional): Максимально допустимое значение. По умолчанию 250.

    Returns:
        int: Корректное целое число в заданных пределах.
    """
    while True:
        try:
            value = int(input(prompt))
            if value < min_value or value > max_value:
                print(f"Ошибка: Значение должно быть не меньше {min_value} и не больше {max_value}.")
                continue
            return value
        except ValueError:
            print("Ошибка: Введите скорость в пределах от {min_value} до {max_value} км/ч.")
def calculate_penalty(speed, limit, name):
    """
    Рассчитывает и сообщает штраф за превышение скорости.

    Функция определяет, превысил ли водитель допустимую скорость,
    выводит соответствующее сообщение и возвращает текст наказания
    в зависимости от степени превышения.

    Args:
        speed (int): Фактическая скорость водителя (км/ч).
        limit (int): Разрешённая скорость на участке дороги (км/ч).
        name (str): Имя водителя.

    Returns:
        str: Сообщение о наказании за превышение скорости.
    """
    over_speed = speed - limit
    if over_speed > 0:
        print(f"{name} превысил скорость на {over_speed} км/ч")
    else:
        print(f"{name} ехал в пределах разрешённой скорости")
    if over_speed <= 10:
        return "Вы получили предупреждение"
    elif over_speed > 10 and over_speed <= 20:
        return "Вы получили штраф 5 000 тенге"
    elif over_speed > 20 and over_speed <= 40:
        return "Вы получили штраф 10 000 тенге"
    elif over_speed > 40:
        return "Вы получили штраф 20 000 тенге и лишение прав на 3 месяца"
def main():
    """
    Основная функция программы.

    Запрашивает у пользователя имя, ограничение скорости и фактическую скорость.
    Вызывает функцию calculate_penalty и выводит результат.
    """
    name = get_name_input("Введите имя: ")
    limit = get_int_input("Введите ограничение скорости: ")
    speed = get_int_input("Введите скорость: ")
    result = calculate_penalty(speed, limit, name)
    print(result)
    
if __name__ == "__main__":
    main()
